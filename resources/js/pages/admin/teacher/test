const fetchDepartments = async (facultyId: number) => {
    setLoadingDepartments(true);
    try {
      const response = await fetch(`/api/faculties/${facultyId}/departments`);
      const departmentsData = await response.json();
      
      const departmentOptions = departmentsData.map((dept: any) => ({
        label: dept.name,
        value: dept.id.toString()
      }));
      
      setDepartments(departmentOptions);
    } catch (error) {
      console.error('Error fetching departments:', error);
      setDepartments([]);
    } finally {
      setLoadingDepartments(false);
    }
  };



   public function getByFaculty($facultyId)
    {
        $departments = Department::where('faculty_id', $facultyId)
            ->select('id', 'name')
            ->orderBy('name')
            ->get();
        
        return response()->json($departments);
    }